pipeline {  
    agent any
    stages {
         stage("input OTWS") {
            steps {
                script {
                def inputnameNhanh
                def inputnameOTWS

                def userInput = input( id: 'userInput', message: 'Chon nhanh OTWS can restart:?', 
                 parameters: [
                 [$class: 'TextParameterDefinition', defaultValue: 'None', description: 'Nhanh can restart', name: 'nameNhanh', choices: "1\n2\n3\n4\n5\nAll"],
                 [$class: 'TextParameterDefinition', defaultValue: 'None', description: 'Loai OTWS', name: 'nameOTWS', choices: "OTWS\nOTWS1\nAll"]
                ])
                inputnameNhanh = userInput.nameNhanh?:''
                inputnameOTWS = userInput.nameOTWS?:''
                echo ("Nhanh OTWS restart: ${inputnameNhanh}"])
                echo ("Loai OTWS restart: ${inputnameOTWS}")             
                }
            }
        }
//         /* stage('restart OTWS'){
//             steps{
//                 sh 'ansible-playbook /home/ansible/recycleOTWS.yml'             
//                 }
//              }
//         stage('check healthcheck after restart OTWS'){
//             steps{
//                 timeout(time:2, unit: 'MINUTES') 
//                 sh 'ansible-playbook /home/ansible/healthcheck0.yml' 
//                     }
//                 }

// }
